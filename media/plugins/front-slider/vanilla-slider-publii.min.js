"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var VanillaSlider=function(){function VanillaSlider(containerId){var _this=this,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,VanillaSlider),this.webpSupported((function(isWebpSupported){if(_this.textLeftRight=options.textLeftRight||"40px",_this.textTopBottom=options.textTopBottom||"40px",_this.textPadding=options.textPadding||"20px",_this.containerId=containerId,_this.images=options.images,_this.transitionTime=options.transitionTime,_this.transitionDirectionX=options.transitionDirectionX,_this.transitionDirectionY=options.transitionDirectionY,_this.transitionZoom=options.transitionZoom,_this.bullets=options.bullets,_this.bulletColor=options.bulletColor,_this.bulletsHide=options.bulletsHide,_this.arrows=options.arrows,_this.arrowsHide=options.arrowsHide,_this.swipe=options.swipe,_this.auto=options.auto,_this.autoTime=options.autoTime,_this.autoPauseOnHover=options.autoPauseOnHover,_this.webp=options.webp,_this.staticTextTitle=options.staticTextTitle,_this.staticTextBody=options.staticTextBody,_this.staticTextPosition=options.staticTextPosition,_this.textOverlayClasses=options.textOverlayClasses,_this.currentIndex=0,_this.sliderLock=!1,_this.imageElements=[],_this.hover=!1,_this.autoPaused=!1,_this.touch="ontouchstart"in document.documentElement,_this.transitionTime=_this.transitionTime?_this.transitionTime:250,_this.bullets="boolean"==typeof _this.bullets&&_this.bullets,_this.bulletsHide=!("boolean"!=typeof _this.bulletsHide||!_this.bullets)&&_this.bulletsHide,_this.arrows="boolean"!=typeof _this.arrows||_this.arrows,_this.arrowsHide="boolean"!=typeof _this.arrowsHide||!_this.arrows||_this.arrowsHide,_this.swipe="boolean"!=typeof _this.swipe||_this.swipe,_this.auto="boolean"==typeof _this.auto&&_this.auto,_this.autoTime="number"==typeof _this.autoTime?_this.autoTime:1e4,_this.autoPauseOnHover="boolean"!=typeof _this.autoPauseOnHover||_this.autoPauseOnHover,_this.webp="boolean"==typeof _this.webp&&_this.webp&&isWebpSupported,_this.staticTextPosition="string"==typeof _this.staticTextPosition?_this.staticTextPosition:"SW",_this.textOverlayClasses=Array.isArray(_this.textOverlayClasses)?_this.textOverlayClasses:null,_this.bulletColor){var isColor=function isColor(strColor){var s=(new Option).style;return s.color=strColor,""!==s.color};_this.bulletColor=isColor(_this.bulletColor)?_this.bulletColor:"red"}else _this.bulletColor="red";if(Array.isArray(_this.images)||(_this.images=null),"string"!=typeof _this.containerId&&_this.containerId.id&&(_this.containerId=_this.containerId.id),!document.getElementById(_this.containerId))throw"Slider error: conatinerId must be a valid element or id";var imageElement,imageAnchor,imagesIndex=0;if(_this.container=document.getElementById(_this.containerId),!_this.images){_this.images=[];var containerChildren=_this.container.children;[].forEach.call(containerChildren,(function(containerChild){imageAnchor=null,"A"===containerChild.tagName&&(imageAnchor=containerChild,containerChild=containerChild.firstElementChild),"IMG"===containerChild.tagName?(_this.images[imagesIndex]={},_this.images[imagesIndex].imageUrl=containerChild.src,imageAnchor&&(_this.images[imagesIndex].linkUrl=imageAnchor.href,_this.images[imagesIndex].linkNewTab="_blank"===imageAnchor.target),containerChild.hasAttribute("text-title")&&(_this.images[imagesIndex].textTitle=containerChild.getAttribute("text-title")),containerChild.hasAttribute("text-body")&&(_this.images[imagesIndex].textBody=containerChild.getAttribute("text-body")),containerChild.hasAttribute("text-position")&&(_this.images[imagesIndex].textPosition=containerChild.getAttribute("text-position")),containerChild.hasAttribute("webp-url")&&(_this.images[imagesIndex].webpUrl=containerChild.getAttribute("webp-url")),containerChild.hasAttribute("alt")&&(_this.images[imagesIndex].alt=containerChild.getAttribute("alt")),containerChild.hasAttribute("title")&&(_this.images[imagesIndex].title=containerChild.getAttribute("title")),imagesIndex++):console.log("Slider error: invalid container child tag name: "+containerChild.tagName)}))}if(_this.container.innerHTML="",_this.images.forEach((function(image,index){"string"==typeof image&&(image={imageUrl:image,linkUrl:null,linkNewTab:null}),(imageElement=document.createElement("IMG")).id=_this.containerId+"-slide-"+index,_this.webp&&image.webpUrl?imageElement.src=image.webpUrl:imageElement.src=image.imageUrl,imageElement.classList.add("vanilla-slider-image"),imageElement.style.margin="auto",imageElement.style.width="100%",imageElement.style.maxWidth="100%",imageElement.style.position="absolute",imageElement.style.top=0,imageElement.style.left=0,image.alt&&(imageElement.alt=image.alt),image.title&&(imageElement.title=image.title),index>0?(imageElement.style.visibility="hidden",imageElement.style.zIndex=0):imageElement.style.zIndex=2,_this.container.appendChild(imageElement),_this.imageElements[index]=imageElement})),_this.images.length<1)throw"Slider error: no images found for slides.";var isIE=function isIE(){return navigator.userAgent.indexOf("MSIE ")>-1||navigator.userAgent.indexOf("Trident/")>-1};_this.container.classList.add("vanilla-slider-container"),_this.container.style.marginLeft="auto",_this.container.style.marginRight="auto",_this.container.style.maxWidth="100%",_this.container.style.display="flex",_this.container.style.overflow="hidden",_this.container.style.position="relative",isIE()&&(_this.container.style.alignItems="flex-end");var addArrowStyles=function addArrowStyles(arrow){return arrow.style.zIndex=6,arrow.style.color="#fff",arrow.style.fontSize="2.5em",arrow.style.fontWeight="bold",arrow.style.cursor="pointer",arrow.style.transition="all 0.3s linear",arrow.style.textShadow="0px 0px 10px rgba(0,0,0,0.5)",arrow},bullet;(_this.arrows&&(_this.leftArrow=document.createElement("SPAN"),_this.leftArrow.id=_this.containerId+"-arrow-left",_this.leftArrow.classList.add("vanilla-slider-arrow"),_this.leftArrow.classList.add("vanilla-slider-arrow-left"),_this.leftArrow=addArrowStyles(_this.leftArrow),_this.leftArrow.style.margin="auto auto auto 10px",_this.leftArrow.innerHTML="&#10094;",_this.leftArrow.addEventListener("click",(function(event){_this.prevSlide(),event.stopPropagation()})),isIE()&&(_this.leftArrow.style.marginTop="45%",_this.leftArrow.style.transform="translateY(-55%)"),_this.container.appendChild(_this.leftArrow)),_this.bullets)&&(_this.bulletContainer=document.createElement("DIV"),_this.bulletContainer.id=_this.containerId+"-bullet-container",_this.bulletContainer.classList.add("vanilla-slider-bullet-container"),_this.bulletContainer.style.zIndex=6,_this.bulletContainer.style.position="relative",_this.bulletContainer.style.margin="auto auto 0",_this.bulletContainer.style.textAlign="center",isIE()&&(_this.bulletContainer.style.marginTop="65%"),_this.container.appendChild(_this.bulletContainer),_this.bullets=[],_this.imageElements.forEach((function(element,index){(bullet=document.createElement("SPAN")).id=_this.containerId+"-bullet-"+index,bullet.classList.add("vanilla-slider-bullet"),bullet.style.color="#fff",bullet.style.zIndex=10,bullet.style.fontSize="2em",bullet.style.margin="0 5px",bullet.style.cursor="pointer",bullet.style.transition="all "+_this.transitionTime/1e3+"s linear",bullet.style.textShadow="0px 0px 5px rgba(0,0,0,0.5)",bullet.innerHTML="&bull;",bullet.addEventListener("click",(function(event){_this.goToSlide(index),event.stopPropagation()})),0===index&&(bullet.style.color=_this.bulletColor),_this.bullets[index]=bullet,_this.bulletContainer.appendChild(bullet)})),_this.bulletsHide&&(_this.bulletContainer.style.visibility="hidden",_this.bulletContainer.style.opacity=0,_this.bulletContainer.style.transition="visibility 0.3s linear,opacity 0.3s linear",_this.container.addEventListener("mouseenter",(function(){_this.bulletContainer.style.visibility="visible",_this.bulletContainer.style.opacity=1})),_this.container.addEventListener("mouseleave",(function(){_this.bulletContainer.style.visibility="hidden",_this.bulletContainer.style.opacity=0}))));if(_this.arrows&&(_this.rightArrow=document.createElement("SPAN"),_this.rightArrow.id=_this.containerId+"-arrow-right",_this.rightArrow.classList.add("vanilla-slider-arrow"),_this.rightArrow.classList.add("vanilla-slider-arrow-right"),_this.rightArrow=addArrowStyles(_this.rightArrow),_this.rightArrow.style.margin="auto 10px auto auto",_this.rightArrow.innerHTML="&#10095;",_this.rightArrow.addEventListener("click",(function(event){_this.nextSlide(),event.stopPropagation()})),isIE()&&(_this.rightArrow.style.marginTop="45%",_this.rightArrow.style.transform="translateY(-55%)"),_this.container.appendChild(_this.rightArrow),_this.arrowsHide&&(_this.leftArrow.style.visibility="hidden",_this.leftArrow.style.opacity=0,_this.rightArrow.style.visibility="hidden",_this.rightArrow.style.opacity=0,_this.container.addEventListener("mouseenter",(function(){_this.leftArrow.style.visibility="visible",_this.leftArrow.style.opacity=1,_this.rightArrow.style.visibility="visible",_this.rightArrow.style.opacity=1})),_this.container.addEventListener("mouseleave",(function(){_this.leftArrow.style.visibility="hidden",_this.leftArrow.style.opacity=0,_this.rightArrow.style.visibility="hidden",_this.rightArrow.style.opacity=0})))),_this.resizeContainer=function(){_this.container.style.width=_this.container.parentNode.clientWidth+"px";var imageXYRatio=_this.imageElements[0].naturalWidth/_this.imageElements[0].naturalHeight;_this.container.style.height=parseFloat(_this.container.style.width.replace("px",""))/imageXYRatio+"px"},window.addEventListener("resize",_this.resizeContainer),_this.slideFadeOut=function(fadeOutTarget){var callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];"function"!=typeof callback&&(callback=function callback(){}),"string"==typeof fadeOutTarget&&(fadeOutTarget=document.getElementById(fadeOutTarget));var defaultWaitTime=2e3,defaultFadeTime=500,intervalTime=20,xDirections=["left","right","random"],yDirections=["up","down","random"],zooms=["in","out","random"];options.waitTime=!!options.waitTime&&options.waitTime,options.fadeTime=options.fadeTime?options.fadeTime:defaultFadeTime,options.directionX=options.directionX?options.directionX:null,options.directionY=options.directionY?options.directionY:null,options.zoom=options.zoom?options.zoom:null;var isVisible=function isVisible(element){return"hidden"!==element.style.visibility},makeInvisible=function makeInvisible(element){element.style.visibility="hidden"};if(fadeOutTarget)if(isVisible(fadeOutTarget)){var xDirectionInterval,yDirectionInterval,zoomInterval;if(options.directionX)switch(options.directionX=xDirections.includes(options.directionX)?options.directionX:null,"random"===options.directionX&&(options.directionX=["right","left",null][Math.floor(3*Math.random())]),options.directionX){case"right":xDirectionInterval=1;break;case"left":xDirectionInterval=-1}if(options.directionY)switch(options.directionY=yDirections.includes(options.directionY)?options.directionY:null,"random"===options.directionY&&(options.directionY=["up","down",null][Math.floor(3*Math.random())]),options.directionY){case"up":yDirectionInterval=-1;break;case"down":yDirectionInterval=1}if(options.zoom)switch(options.zoom=zooms.includes(options.zoom)?options.zoom:null,"random"===options.zoom&&(options.zoom=["in","out",null][Math.floor(3*Math.random())]),options.zoom){case"in":zoomInterval=.005;break;case"out":zoomInterval=-.005}if(options.waitTime)options.waitTime=!0===options.waitTime?defaultWaitTime:options.waitTime,options.waitTime="number"==typeof options.waitTime?options.waitTime:defaultWaitTime,setTimeout((function(){options.waitTime=!1,_this.slideFadeOut(fadeOutTarget,callback,options)}),options.waitTime);else{options.fadeTime="number"==typeof options.fadeTime?options.fadeTime:defaultFadeTime;var opacityInterval=intervalTime/options.fadeTime;fadeOutTarget.style.opacity=1;var fadeOutEffect=setInterval((function(){fadeOutTarget.style.opacity>0?(fadeOutTarget.style.opacity-=opacityInterval,options.directionX&&(fadeOutTarget.style.left=parseFloat(fadeOutTarget.style.left.replace("px",""))+xDirectionInterval+"px"),options.directionY&&(fadeOutTarget.style.top=parseFloat(fadeOutTarget.style.top.replace("px",""))+yDirectionInterval+"px"),options.zoom&&(fadeOutTarget.style.transform||(fadeOutTarget.style.transform="scale(1)"),fadeOutTarget.style.transform="scale("+(parseFloat(fadeOutTarget.style.transform.replace("scale(","").replace(")",""))+zoomInterval)+")")):(clearInterval(fadeOutEffect),makeInvisible(fadeOutTarget),fadeOutTarget.style.top=0,fadeOutTarget.style.left=0,fadeOutTarget.style.transform="scale(1)",callback())}),intervalTime)}}else callback();else console.log("fadeOut error: no such element exists.")},_this.getNextIndex=function(){return(_this.currentIndex+1)%_this.imageElements.length},_this.getPrevIndex=function(){return _this.currentIndex<1?_this.imageElements.length-1:_this.currentIndex-1},_this.nextSlide=function(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_this.goToSlide(_this.getNextIndex(),callback)},_this.prevSlide=function(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_this.goToSlide(_this.getPrevIndex(),callback)},_this.goToSlide=function(newIndex){var callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof newIndex||newIndex<0||newIndex+1>_this.imageElements.length)console.log("Slider error: invalid index in goToSlide: "+newIndex),"function"==typeof callback&&callback();else if(newIndex===_this.currentIndex)console.log("Slider error: current index in goToSlide: "+newIndex),"function"==typeof callback&&callback();else if(_this.sliderLock)console.log("Slider error: slider is locked.");else{_this.pauseAuto(),_this.bullets&&(_this.bullets[_this.currentIndex].style.color="#fff",_this.bullets[newIndex].style.color=_this.bulletColor);var finishSlide=function finishSlide(){_this.currentIndex=newIndex,_this.setSlideLink(newIndex),_this.setSlideText(newIndex),_this.sliderLock=!1,"function"==typeof callback&&callback(),_this.autoPauseOnHover&&_this.hover&&!_this.touch||_this.resumeAuto()};_this.sliderLock=!0,_this.transitionSlide(newIndex,finishSlide)}},_this.startAuto=function(){_this.auto=!0,_this.autoInterval=setInterval(_this.nextSlide,_this.autoTime)},_this.pauseAuto=function(){_this.auto&&!_this.autoPaused&&(clearInterval(_this.autoInterval),_this.autoPaused=!0)},_this.resumeAuto=function(){_this.auto&&_this.autoPaused&&(_this.autoInterval=setInterval(_this.nextSlide,_this.autoTime),_this.autoPaused=!1)},_this.stopAuto=function(){clearInterval(_this.autoInterval),_this.auto=!1},_this.setSlideLink=function(index){_this.linkOverlay&&(_this.container.removeChild(_this.linkOverlay),_this.linkOverlay=null),_this.images[index].linkUrl&&(_this.linkOverlay=document.createElement("DIV"),_this.linkOverlay.id=_this.containerId+"-link-overlay",_this.linkOverlay.classList.add("vanilla-slider-link-overlay"),_this.linkOverlay.style.zIndex=5,_this.linkOverlay.style.position="absolute",_this.linkOverlay.style.top=0,_this.linkOverlay.style.left=0,_this.linkOverlay.style.width="100%",_this.linkOverlay.style.height="100%",_this.linkOverlay.style.cursor="pointer",_this.images[index].linkNewTab?_this.linkOverlay.addEventListener("click",(function(){window.open(_this.images[index].linkUrl,"_blank")})):_this.linkOverlay.addEventListener("click",(function(){window.location.href=_this.images[index].linkUrl})),_this.container.appendChild(_this.linkOverlay))},_this.setSlideText=function(index){var appendTextOverlay=function appendTextOverlay(title,body,position,index){_this.textOverlay=document.createElement("DIV"),_this.textOverlay.id=_this.containerId+"-text-overlay",_this.textOverlay.classList.add("vanilla-slider-text-overlay"),_this.textOverlay.style.zIndex=6,_this.textOverlay.style.position="absolute",_this.textOverlay.style.padding=_this.textPadding,_this.textOverlay.style.textAlign="left",_this.textOverlay.style.color="#fff",_this.textOverlay.style.textShadow="0 0 20px black",_this.textOverlay.style.backgroundColor="rgba(0,0,0,0.3)",_this.textOverlay.style.opacity=0,_this.textOverlay.style.transition="all 0.5s linear";var textOverlayContent="";switch(title&&(textOverlayContent+="<h1>"+title+"</h1>"),body&&(textOverlayContent+="<h2>"+body+"</h2>"),position="string"==typeof position?position:"SW"){case"NW":_this.textOverlay.style.top=_this.textTopBottom,_this.textOverlay.style.left=_this.textLeftRight;break;case"NE":_this.textOverlay.style.top=_this.textTopBottom,_this.textOverlay.style.right=_this.textLeftRight;break;case"SE":_this.textOverlay.style.bottom=_this.textTopBottom,_this.textOverlay.style.right=_this.textLeftRight;break;default:_this.textOverlay.style.bottom=_this.textTopBottom,_this.textOverlay.style.left=_this.textLeftRight}_this.textOverlay.innerHTML=textOverlayContent,index&&_this.images[index].linkUrl&&(_this.textOverlay.style.cursor="pointer",_this.images[index].linkNewTab?_this.textOverlay.addEventListener("click",(function(){window.open(_this.images[index].linkUrl,"_blank")})):_this.textOverlay.addEventListener("click",(function(){window.location.href=_this.images[index].linkUrl}))),_this.textOverlayClasses&&_this.textOverlayClasses.forEach((function(textOverlayClass){_this.textOverlay.classList.add(textOverlayClass)})),_this.container.appendChild(_this.textOverlay)};_this.staticTextBody||_this.staticTextTitle?_this.textOverlay||appendTextOverlay(_this.staticTextTitle,_this.staticTextBody,_this.staticTextPosition,null):(_this.textOverlay&&(_this.container.removeChild(_this.textOverlay),_this.textOverlay=null),(_this.images[index].textTitle||_this.images[index].textBody)&&appendTextOverlay(_this.images[index].textTitle,_this.images[index].textBody,_this.images[index].textPosition,index))},_this.revealSlideText=function(){if(_this.textOverlay)var revealEffect=setInterval((function(){_this.textOverlay.style.opacity=parseFloat(_this.textOverlay.style.opacity)+parseFloat(.1),_this.textOverlay.style.opacity>=1&&clearInterval(revealEffect)}),5)},_this.transitionSlide=function(newIndex,callback){_this.imageElements[newIndex].style.zIndex=1,_this.imageElements[newIndex].style.opacity=1,_this.imageElements[newIndex].style.visibility="visible",_this.setSlideText(newIndex),_this.slideFadeOut(_this.imageElements[_this.currentIndex],(function(){_this.imageElements[_this.currentIndex].style.zIndex=0,_this.imageElements[newIndex].style.zIndex=2,callback(),_this.revealSlideText(newIndex)}),{fadeTime:_this.transitionTime,directionX:_this.transitionDirectionX,directionY:_this.transitionDirectionY,zoom:_this.transitionZoom})},_this.setSlideLink(_this.currentIndex),_this.setSlideText(_this.currentIndex),_this.revealSlideText(_this.currentIndex),_this.swipe){_this.swiper={},_this.swiper.xDown=null,_this.swiper.yDown=null,_this.container.addEventListener("touchstart",(function(evt){_this.swiper.xDown=evt.touches[0].clientX,_this.swiper.yDown=evt.touches[0].clientY}),!1);var handleTouchMove=function handleTouchMove(evt){if(_this.swiper.xDown&&_this.swiper.yDown){var xUp=evt.touches[0].clientX,yUp=evt.touches[0].clientY;if(_this.swiper.xDiff=_this.swiper.xDown-xUp,_this.swiper.yDiff=_this.swiper.yDown-yUp,Math.abs(_this.swiper.xDiff)>Math.abs(_this.swiper.yDiff)){var transition={};_this.swiper.xDiff>0?(transition={x:_this.transitionDirectionX,y:_this.transitionDirectionY,z:_this.transitionZoom},_this.transitionDirectionX="left",_this.transitionDirectionY=!1,_this.transitionZoom=!1,_this.nextSlide((function(){_this.transitionDirectionX=transition.x,_this.transitionDirectionY=transition.y,_this.transitionZoom=transition.z}))):(transition={x:_this.transitionDirectionX,y:_this.transitionDirectionY,z:_this.transitionZoom},_this.transitionDirectionX="right",_this.transitionDirectionY=!1,_this.transitionZoom=!1,_this.prevSlide((function(){_this.transitionDirectionX=transition.x,_this.transitionDirectionY=transition.y,_this.transitionZoom=transition.z})))}_this.swiper.xDown=null,_this.swiper.yDown=null}};_this.container.addEventListener("touchmove",(function(evt){handleTouchMove(evt)}),!1)}_this.auto&&(_this.startAuto(),_this.autoPauseOnHover&&(_this.container.addEventListener("mouseenter",(function(){_this.pauseAuto()})),_this.container.addEventListener("mouseleave",(function(){_this.resumeAuto()})))),_this.touch||(_this.container.addEventListener("mouseenter",(function(){_this.hover=!0})),_this.container.addEventListener("mouseleave",(function(){_this.hover=!1}))),_this.imageElements[0]&&_this.imageElements[0].addEventListener("load",_this.resizeContainer)}))}return _createClass(VanillaSlider,[{key:"webpSupported",value:function webpSupported(callback){var img=new Image;img.onload=function(){var result=img.width>0&&img.height>0;callback(result)},img.onerror=function(){callback(!1)},img.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"}}]),VanillaSlider}();function createSlider(containerId,options){return new VanillaSlider(containerId,options)}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,value:function value(obj){var newArr;return this.filter((function(el){return el==obj})).length>0}});